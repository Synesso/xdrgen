package <%= @namespace %>;

import java.io.ByteArrayOutputStream;
import java.io.IOException;
import okio.ByteString;

/**
 * Common parent for all generated classes.
 */
abstract class XdrElement {
  public abstract void encode(XdrDataOutputStream stream) throws IOException;

  public ByteString encode() throws IOException {
    ByteArrayOutputStream byteStream = new ByteArrayOutputStream();
    XdrDataOutputStream xdrOutputStream = new XdrDataOutputStream(byteStream);
    encode(xdrOutputStream);
    return new ByteString(byteStream.toByteArray());
  }
}
